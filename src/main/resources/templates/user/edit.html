<!doctype html>

<html lang="en" xmlns:th="https://www.thymeleaf.org/">

<head>
<title>SkillHub</title>
<meta charset="utf-8">
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="/style.css">
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
	integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
	crossorigin="anonymous"></script>
<script
	src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
	integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
	crossorigin="anonymous"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
	integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
	crossorigin="anonymous"></script>
</head>

<body>

	<header th:replace="fragments.html :: top ('')">Here goes the
		header</header>


	<section>
		<div class="flex-container">
			<div class="container cards">
				<div class="row no-gutters">


					<div class="card w-75">
						<div class="card-header">
							<h3
								th:text="${userForm.id} ? 'Edit your profile' : 'Create your profile'">User3</h3>
						</div>
						<div class="card-body">


							<form method="post" th:action="@{/user/upsert}"
								th:object="${userForm}">
								<input name="id" th:field="*{id}" type="hidden">

								<div class="form-group">
									<label for="user-first-name">First name</label> <input
										type="text" class="form-control" id="firstName"
										name="firstName" placeholder="Stephanie" required
										th:field="*{firstName}">
								</div>

								<div class="form-group">
									<label for="user-last-name">Last name</label> <input
										type="text" class="form-control" id="lastName" name="lastName"
										placeholder="Bauer" required th:field="*{lastName}">
								</div>

								<div class="form-group">
									<label for="zip-code">Zip code</label> <input type="text"
										class="form-control" id="zip-code" name="zipName"
										placeholder="90427" required th:field="*{zipCode}">
								</div>

								<div class="form-group">
									<label for="City">City</label> <input type="text"
										class="form-control" id="city" name="city"
										placeholder="Nürnberg" required th:field="*{city}">
								</div>

								<div class="form-group">
									<label for="dateOfBirth">Birthday</label> <input type="date"
										class="form-control" id="dateOfBirth" name="dateOfBirth"
										placeholder="1995-06-21" required th:field="*{dateOfBirth}">
								</div>

								<div class="form-group">
									<label for="email">Email address</label> <input type="email"
										class="form-control" id="email" aria-describedby="emailHelp"
										name="email" placeholder="stephanie.bauer@telekom.de" required
										th:field="*{email}"> <small
										class="form-text text-muted">We'll never share your
										email with anyone else.</small>
								</div>

								<div class="form-group">
									<label for="password">Password</label> <input type="password" class="form-control" id="password"
									  aria-describedby="passwordHelp" name="password"
									  onchange="if(this.checkValidity()) form.passwordRepeated.pattern = this.value;"
									  placeholder="Password" required th:field="*{password}">
								  </div>
							  
							  <!-- 
								  ==> Problem: password & passwordRepeated wird nicht gezogen...!
								  
								  
								  Lösung noch einbauen:
								  1) PW Felder nur anzeigen, wenn sich ein User anmeldet
								  2) Separates PW-Change-Feld anlegen...
								  
								  
								   -->
								  
							  
								  <div class="form-group">
									<label for="passwordRepeated">Password (repeated)</label> <input type="password" class="form-control" id="passwordRepeated"
									  aria-describedby="passwordRepeatedHelp" name="passwordRepeated"
									  onchange="this.setCustomValidity(this.validity.patternMismatch ? 'Please enter the same Password as above' : '');"
									  placeholder="Verify Password" required th:field="*{passwordRepeated}">
								  </div>

								<div class="form-group">
									<label for="user-description">Description</label>
									<textarea class="form-control" id="user-description"
										name="description"
										placeholder="Please enter your description here."
										th:field="*{description}" rows="3"></textarea>
								</div>

								<div class="form-group">
									<label for="imageURL">Upload your Photo</label> <input
										type="text" class="form-control-file" id="imageURL"
										name="imageURL" th:field="*{imageURL}">
								</div>


								<ul>
									<li th:each="userSkillLevel, stat : *{userSkillLevels}">
										<div class="custom-control custom-switch">
											<input type="hidden"
												th:field="*{userSkillLevels[__${stat.index}__].id}" /> <input
												class="custom-control-input" type="checkbox"
												th:id="${'toggle' + userSkillLevel.id}"
												th:field="*{userSkillLevels[__${stat.index}__].checked}" />
											<label class="custom-control-label"
												th:for="${'toggle' + userSkillLevel.id}"
												th:text="${userSkillLevel.name}">Climbing </label>
										</div>
									</li>
								</ul>

								<button type="submit" value="Submit"
									class="btn btn-primary edit">Submit</button>
							</form>

							<form th:if="${userForm.id != null}" method="get"
								th:action="@{/user/delete}" th:object="${userForm}">
								<input name="id" th:field="*{id}" type="hidden">

								<button type="submit" value="Submit" class="btn btn-danger">Permanently
									delete my Account</button>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>


	<footer th:replace="fragments.html :: bottom">Here goes the
		footer</footer>



</body>

</html>